# 📱💻 局域网文件传输系统 - 使用指南

## 📋 目录
- [软件简介](#软件简介)
- [准备工作](#准备工作)
- [启动服务](#启动服务)
- [功能说明](#功能说明)
- [使用方法](#使用方法)
- [常见问题](#常见问题)
- [注意事项](#注意事项)

---

## 🎯 软件简介

这是一个**功能强大且简单易用**的局域网文件传输工具，可以让你在同一局域网内的手机和电脑之间快速传输文件，**无需安装任何APP**，只需使用浏览器即可。

### ✨ 核心特性

- 📤 **双向传输**：手机→电脑、电脑→手机、不同电脑之间
- 📝 **文本传输**：快速传输文本内容，自动保存为.txt文件
- 👀 **文件预览**：支持预览.txt文件（小于100KB）
- 🗑️ **文件管理**：支持删除已上传/共享的文件
- 📊 **实时进度**：显示上传进度、速度和剩余时间
- 🎨 **现代界面**：简洁美观的响应式设计
- 🔒 **安全可靠**：局域网内传输，数据不经过外部服务器

---

## 🛠️ 准备工作

### 1. 确保电脑已安装Python

如果你的电脑还没有Python，请先安装：

1. 打开 `shared_files` 文件夹
2. 双击运行 `python-3.12.8-amd64.exe`
3. **重要**：安装时勾选 **"Add Python to PATH"**
4. 点击 "Install Now" 完成安装

### 2. 确保手机和电脑在同一WiFi下

⚠️ **手机和电脑必须连接到同一个WiFi网络才能互相传输文件**

---

## 🚀 启动服务

### 方法一：双击批处理文件（推荐）

1. 在项目文件夹中找到 `启动服务器.bat` 文件
2. 双击运行，会弹出命令窗口
3. 等待显示 "按任意键启动服务器..."
4. 按任意键（如回车键）
5. 看到 "服务器启动，访问地址: http://0.0.0.0:5000" 即成功

### 方法二：Python命令启动

```bash
python start_server.py
```

---

## 📱 功能说明

### 标签页功能

系统提供三个主要功能标签页：

#### 1️⃣ 上传文件
- 📤 上传文件到电脑的 `received_files` 文件夹
- 📊 实时显示上传进度、速度和剩余时间
- 📁 查看已上传的文件列表
- 👀 预览.txt文件内容（小于100KB）
- 🗑️ 删除不需要的文件

#### 2️⃣ 共享文件（电脑 → 手机）
- 📥 下载电脑 `shared_files` 文件夹中的文件
- 👀 预览.txt文件内容（小于100KB）
- 📋 复制文件内容到剪贴板
- 🗑️ 删除不需要的文件
- 🔄 刷新文件列表

#### 3️⃣ 文本传输
- 📝 快速传输文本内容
- 💾 自动保存为.txt文件到 `shared_files` 文件夹
- 🏷️ 支持自定义文件名或自动生成时间戳命名
- ✅ 保留输入内容，可连续编辑上传

---

## 📖 使用方法

### 步骤1：查看电脑IP地址

在启动服务器后的命令窗口中，找到类似这样的一行：
```
   IPv4 地址 . . . . . . . . . . . . : 192.168.0.197
```
记下这个IP地址（例如：`192.168.0.197`）

### 步骤2：在手机上访问

1. 打开手机浏览器（Chrome、Safari、微信内置浏览器等）
2. 在地址栏输入：`http://你的电脑IP:5000`
   - 例如：`http://192.168.0.197:5000`
3. 按回车，即可看到文件传输界面

---

### 🎯 使用场景详解

#### 场景1：手机照片/视频传到电脑

1. 在手机浏览器中，选择 **"上传文件"** 标签
2. 点击绿色的文件上传区域
3. 选择照片/视频（支持多选）
4. 点击 **"开始上传"** 按钮
5. 等待上传完成（可以看到实时进度）
6. 文件会保存在电脑的 `received_files` 文件夹
7. 可以在页面下方的"已上传的文件"列表中查看
8. 支持预览.txt文件、下载文件、删除文件

#### 场景2：电脑文件发送到手机

1. 首先，将要分享的文件复制到电脑的 `shared_files` 文件夹
2. 在手机浏览器中，选择 **"共享文件"** 标签
3. 点击 **"刷新文件列表"** 按钮
4. 找到要下载的文件，点击 **"下载"** 按钮
5. 文件会保存到手机的默认下载目录
6. 如果是.txt文件，还可以点击 **"预览"** 查看内容

#### 场景3：快速传输文本内容

1. 在手机浏览器中，选择 **"文本传输"** 标签
2. 在文本框中粘贴或输入文本内容
3. （可选）输入自定义文件名，不填则自动生成时间戳命名
4. 点击 **"上传文本"** 按钮
5. 文本会自动保存为.txt文件到电脑的 `shared_files` 文件夹

---

## 🔧 文件管理功能

### 预览文件

- **支持格式**：.txt文件（小于100KB）
- **操作方式**：点击文件旁边的 **"预览"** 按钮
- **功能**：
  - 查看文件内容
  - 复制内容到剪贴板
  - 关闭预览

### 删除文件

- **操作方式**：点击文件旁边的 **"删除"** 按钮
- **安全确认**：删除前会弹出确认对话框
  ```
  确定要删除文件 "example.txt" 吗？

  此操作不可恢复！

  [取消]  [确定]
  ```
- **自动刷新**：删除成功后自动刷新文件列表

---

## ❓ 常见问题

### Q1：双击 `启动服务器.bat` 后窗口一闪而过？

**解决方法**：
- 检查是否已正确安装Python
- 确认安装时勾选了 "Add Python to PATH"
- 重新安装Python并勾选该选项

### Q2：手机浏览器无法访问服务器？

**解决方法**：
1. ✅ 确保手机和电脑连接到**同一个WiFi网络**
2. ✅ 检查电脑IP地址是否输入正确
3. ✅ 检查服务器是否已经成功启动
4. ✅ 尝试关闭电脑防火墙

### Q3：上传文件失败？

**解决方法**：
1. 检查网络连接是否稳定
2. 避免同时上传过多或过大的文件
3. 尝试重新启动服务器
4. 检查电脑磁盘空间是否充足

### Q4：找不到上传/下载的文件？

**文件位置**：
- 📤 **上传的文件**：保存在 `received_files` 文件夹
- 📥 **要分享的文件**：需要放到 `shared_files` 文件夹
- 📱 **手机下载的文件**：在手机的"下载"文件夹或浏览器下载管理中

### Q5：预览按钮不显示？

**原因**：
- 只有 **.txt文件** 且 **小于100KB** 才会显示预览按钮
- 其他格式文件（如图片、视频、压缩包等）不支持预览

### Q6：删除文件时出现404错误？

**解决方法**：
- 重启服务器
- 确保使用的是最新版本的代码
- 检查文件是否仍然存在

---

## 📊 端口配置

默认端口为 `5000`，如需修改：

1. 编辑项目根目录下的 `config.json` 文件
2. 修改 `port` 值：
   ```json
   {
     "port": 8080
   }
   ```
3. 重启服务器即可

---

## 🛑 停止服务

当你不需要使用文件传输服务时：

1. 回到电脑上的命令窗口
2. 按 `Ctrl + C` 组合键
3. 命令窗口会关闭，服务即停止

---

## ⚠️ 注意事项

1. 🌐 **仅限局域网**：此工具仅在同一局域网内使用，不能跨网络传输
2. 📡 **保持连接**：传输过程中保持电脑和手机的网络连接稳定
3. 💾 **定期清理**：定期清理 `received_files` 和 `shared_files` 文件夹，避免占用磁盘空间
4. 🔒 **安全性**：虽然在局域网内相对安全，但不要传输敏感信息
5. 🔋 **节省资源**：使用完毕后记得关闭服务器
6. 📝 **文件命名**：避免使用特殊字符命名文件，使用中文、英文、数字即可

---

## 🎨 界面预览

### 功能亮点

- ✅ **醒目的上传区域**：绿色虚线边框，大触控区域
- ✅ **渐变按钮**：现代化的渐变色设计
- ✅ **实时进度**：显示上传速度、进度和剩余时间
- ✅ **Toast提示**：操作反馈清晰直观
- ✅ **响应式设计**：手机、平板、电脑均可完美显示

---

## 📞 技术支持

如果遇到其他问题，可以联系技术人员寻求帮助：

📧 **邮箱**：tzhtlc@qq.com

---

## 📄 更新日志

### v2.0 (最新版本)
- ✨ 新增文本传输功能
- ✨ 新增文件预览功能（.txt文件）
- ✨ 新增文件删除功能（带确认对话框）
- ✨ 新增已上传文件列表显示
- 🎨 改进UI界面，使用现代化渐变设计
- 🔧 优化代码结构，减少重复代码
- 🐛 修复文件名包含特殊字符时的问题

### v1.0
- 🎉 初始版本发布
- 📤 支持手机→电脑上传文件
- 📥 支持电脑→手机下载文件
- 📊 实时显示上传进度

---

**🎉 祝你使用愉快！**

Made with ❤️ by 技术团队
